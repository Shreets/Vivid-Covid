(this["webpackJsonpvivid-covid"]=this["webpackJsonpvivid-covid"]||[]).push([[0],{19:function(e,t,a){e.exports=a.p+"static/media/locate.8fe3dbf2.png"},23:function(e,t,a){},24:function(e,t,a){e.exports=a.p+"static/media/logo.90f98b6e.png"},25:function(e,t,a){e.exports=a.p+"static/media/chart.f12357eb.png"},31:function(e,t,a){e.exports=a(52)},36:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){e.exports=a.p+"static/media/hover.7148e7f5.png"},41:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),o=a.n(c),l=(a(36),a(8)),i=a.n(l),s=a(11),u=a(3),m=(a(38),a(39),a(24)),d=a.n(m),v=a(25),p=a.n(v),f=(a(40),function(e){return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:d.a,alt:"logo"})),r.a.createElement("div",{className:"tabs"},r.a.createElement("span",{className:"tab-span"},r.a.createElement("a",{onClick:e.recoverSelect},"RECOVERY")),r.a.createElement("span",{className:"img-span"},r.a.createElement("img",{src:p.a,alt:"chart logo",className:"chart-logo"}))))}),h=(a(41),a(20)),E=a.n(h),b=(a(46),function(e){return r.a.createElement("div",{className:"stat-wrapper"},r.a.createElement("div",{className:"infected"},r.a.createElement("div",{className:"title"}," Confirmed : "),r.a.createElement("div",{className:"numbers"},r.a.createElement(E.a,{start:0,end:e.confirm,duration:.5,separator:","})),r.a.createElement("div",{className:"date"},"Recent updated: ",e.date)),r.a.createElement("div",{className:"recovered"},r.a.createElement("div",{className:"title"}," Recovered : "),r.a.createElement("div",{className:"numbers"},r.a.createElement("span",{className:"num"},r.a.createElement(E.a,{start:0,end:e.recover,duration:1.5,separator:","})),r.a.createElement("span",{className:"rate"},"(".concat(e.rate," %)"))),r.a.createElement("div",{className:"date"},"Recent updated: ",e.date)))}),g=(a(23),a(69)),N=a(68),O=a(14),j=a(19),y=a.n(j),w=function(e){var t=Object(n.useState)({latitude:36,longitude:16,zoom:1.5}),a=Object(u.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)([]),m=Object(u.a)(l,2),d=m[0],v=m[1],p=Object(n.useState)(null),f=Object(u.a)(p,2),h=f[0],E=f[1],b=Object(n.useState)(!1),g=Object(u.a)(b,2),N=g[0],j=g[1],w=function(){var e=Object(s.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://covid19.mathdro.id/api/recovered");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,v(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){void 0!==e.location?(j(!0),d.map((function(t){e.location===t.countryRegion&&(o({latitude:t.lat,longitude:t.long,zoom:4}),E(t))}))):(j(!1),o({latitude:36,longitude:16,zoom:1.5}))};Object(n.useEffect)((function(){w()}),[]),Object(n.useEffect)((function(){k()}),[e.location]);return r.a.createElement("div",null,r.a.createElement(O.c,{style:{width:"100%",height:"88vh"},mapStyle:"mapbox://styles/mapbox/light-v9",accessToken:"pk.eyJ1Ijoic2hyZWV0cyIsImEiOiJjazlqa240NjIwOTY5M2hwOGNmbTE2YTc1In0.oF-rBv3-aKL90FnHJPDHSQ",latitude:c.latitude,longitude:c.longitude,zoom:c.zoom,onViewportChange:o},d.map((function(e){return r.a.createElement(O.a,{key:e.combinedKey,latitude:e.lat,longitude:e.long},r.a.createElement("div",null,r.a.createElement("img",{className:"pin",src:y.a,onMouseOver:function(t){t.preventDefault(),E(e)},onMouseOut:function(e){e.preventDefault(),E(null)}})))})),h||N&&h?r.a.createElement(O.b,{latitude:h.lat,longitude:h.long,onClose:function(){E(null)}},r.a.createElement("div",{className:"pin-info"},r.a.createElement("span",{className:"pin-name"},h.combinedKey),r.a.createElement("br",null),r.a.createElement("span",{className:"pin-confirm"},"Confirmed : ",h.confirmed),r.a.createElement("br",null),r.a.createElement("span",{className:"pin-recover"},"Recovered : ",h.recovered),r.a.createElement("br",null),r.a.createElement("span",{className:"pin-recover"},"Rate :","".concat(Math.round(h.recovered/h.confirmed*100)," %")))):null))},k=function(e){return r.a.createElement("div",{className:"map-wrapper"},r.a.createElement("div",{className:"frame"},r.a.createElement(w,{location:e.country,recoverSelect:e.recoverSelect})),r.a.createElement("div",{className:"search"},r.a.createElement(g.a,{className:"form__input"},r.a.createElement(N.a,{defaultValue:"",onChange:e.select},r.a.createElement("option",{value:void 0,onClick:e.recoverSelect},"-- Search by Country --"),e.countryOption.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))))))},S=(a(51),function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),c=a[0],o=a[1],l=r.a.createElement("div",{className:"dialogBackdrop"},r.a.createElement("div",{className:"dialogContainer"},r.a.createElement("div",null," ","At times like this when all you see and hear of is how the COVID-19 virus is spreading faster than wild fire, I felt like I would rather prefer turning up to a source which would only give me the Good News , i.e of patient recoveries.",r.a.createElement("br",null),"The API derives data provided by John Hopkins. Although the numbers provided are accurate and up to date, provinces of a country or a territory under a certain country's governance is also shown as the country itself in the map. These will be taken care of upon gaining acces to a better (yet free) API.",r.a.createElement("br",null),r.a.createElement("span",null,"**This is a Test version. Further updates will be made soon.")," "),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){o(!1)}},"Close"))));return r.a.createElement("div",{className:"foot-wrapper"},r.a.createElement("div",{className:"created"},"Copyright \xa9 2020"," ",r.a.createElement("a",{href:"https://github.com/Shreets?tab=repositories",target:"_blank"}," ","Shreeti Upreti"," ")),r.a.createElement("div",{className:"info"},r.a.createElement("a",{onClick:function(){return o(!0)}},"ABOUT")),c&&l)});var x=function(){var e="https://covid19.mathdro.id/api",t=Object(n.useState)(0),a=Object(u.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(0),m=Object(u.a)(l,2),d=m[0],v=m[1],p=Object(n.useState)(void 0),h=Object(u.a)(p,2),E=h[0],g=h[1],N=Object(n.useState)([]),O=Object(u.a)(N,2),j=O[0],y=O[1],w=Object(n.useState)(0),x=Object(u.a)(w,2),C=x[0],I=x[1],M=Object(n.useState)(new Date),J=Object(u.a)(M,2),T=J[0],A=J[1],D=new Date(T),R=D.getDate()+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][D.getMonth()]+" "+D.getFullYear(),z=function(){var t=Object(s.a)(i.a.mark((function t(){var a,n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e);case 3:return a=t.sent,t.next=6,a.json();case 6:n=t.sent,o(n.confirmed.value),v(n.recovered.value),A(n.lastUpdate),r=Math.round(n.recovered.value/n.confirmed.value*100),I(r),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(){return t.apply(this,arguments)}}(),B=function(){var e=Object(s.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://covid19.mathdro.id/api/countries/".concat(E));case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,o(a.confirmed.value),v(a.recovered.value),A(a.lastUpdate),n=Math.round(a.recovered.value/a.confirmed.value*100),I(n),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var t=Object(s.a)(i.a.mark((function t(){var a,n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(e,"/countries"));case 2:return a=t.sent,t.next=5,a.json();case 5:n=t.sent,r=n.countries.map((function(e){return e.name})),y(r);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){void 0===E?z():B()}),[E]),Object(n.useEffect)((function(){F()}),[]);var V=function(){z(),g(void 0)};return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"nav"},r.a.createElement(f,{recoverSelect:V,country:E})),r.a.createElement("div",{className:"stats"},r.a.createElement(b,{confirm:c,recover:d,date:R,rate:C})),r.a.createElement("div",{className:"map"},r.a.createElement(k,{url:e,countryOption:j,select:function(e){g(e.target.value)},country:E,recoverSelect:V})),r.a.createElement("div",{className:"footer"},r.a.createElement("footer",null,r.a.createElement(S,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.7c873d60.chunk.js.map